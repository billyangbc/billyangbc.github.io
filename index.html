<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free@6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://unpkg.com/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"billyangbc.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Practical Tech">
<meta property="og:url" content="http://billyangbc.github.io/index.html">
<meta property="og:site_name" content="Practical Tech">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Pratical Tech Blogger">
<meta property="article:tag" content="cloud native, kubernetes, docker, web application, AI">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://billyangbc.github.io/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Practical Tech</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Practical Tech</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Pratical Tech Blogger</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://billyangbc.github.io/2024/12/03/tech/macos-mounting-external-hard-drives-without-login/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Pratical Tech Blogger">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Practical Tech">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Practical Tech">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/12/03/tech/macos-mounting-external-hard-drives-without-login/" class="post-title-link" itemprop="url">Mac OS automatically mounting external hard drives without login</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2024-12-03 00:00:00 / Modified: 10:46:58" itemprop="dateCreated datePublished" datetime="2024-12-03T00:00:00-08:00">2024-12-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>I have an old Mac mini that is running as a NAS server. The machine has 3 external hard drives attached.<br>However, the external drives are not mounted util I log in. I need those drives automatically mount without login.</p>
<p>Here is the solution I found:</p>
<p>In <code>/Library/Preferences/SystemConfiguration/</code> folder I created a file <code>autodiskmount.plist</code> with command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> vim autodiskmount.plist</span><br></pre></td></tr></table></figure>

<p>The file has following content:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">plist</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//Apple//DTD PLIST 1.0//EN&quot;</span> <span class="string">&quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plist</span> <span class="attr">version</span>=<span class="string">&quot;1.0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>AutomountDisksWithoutUserLogin<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plist</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>After the file created, reboot the system:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> reboot</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://billyangbc.github.io/2024/11/05/tech/git-recipes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Pratical Tech Blogger">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Practical Tech">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Practical Tech">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/11/05/tech/git-recipes/" class="post-title-link" itemprop="url">Git Recipes</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-11-05 00:00:00" itemprop="dateCreated datePublished" datetime="2024-11-05T00:00:00-08:00">2024-11-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-11-21 09:34:42" itemprop="dateModified" datetime="2024-11-21T09:34:42-08:00">2024-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>This page contains a whole lot of Git commands that I personally used in the past to keep as a track record for future use.</p>
<h2 id="Navigating-history"><a href="#Navigating-history" class="headerlink" title="Navigating history"></a>Navigating history</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br><span class="line">git lg</span><br><span class="line">git checkout ca55e77e</span><br><span class="line">git checkout master</span><br><span class="line">git checkout HEAD^3</span><br><span class="line">git checkout <span class="string">&quot;HEAD@&#123;1 month ago&#125;&quot;</span></span><br><span class="line">git checkout :/Commit message</span><br></pre></td></tr></table></figure>

<h2 id="Branching"><a href="#Branching" class="headerlink" title="Branching"></a>Branching</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b develop <span class="comment"># creates new branch develop and does checkout of develop</span></span><br><span class="line">git merge feature/awesomeness <span class="comment"># merges the branch &quot;feature/awesomeness&quot; into the current branch</span></span><br><span class="line">git branch -d feature/bullshit <span class="comment"># deletes local branch &quot;feature/bullshit&quot;</span></span><br><span class="line">git push origin :feature/bullshit <span class="comment"># deletes remote branch &quot;feature/bullshit&quot; from the &quot;origin&quot; remote</span></span><br></pre></td></tr></table></figure>

<h2 id="Stash"><a href="#Stash" class="headerlink" title="Stash"></a>Stash</h2><ul>
<li>Getting a single file from a stash… <code>git checkout stash@&#123;0&#125; -- &lt;filename&gt;</code></li>
<li>Stash all files including untracked files… <code>git stash -u</code></li>
<li>Save a stash with a specific message… <code>git stash apply -m &quot;My stash with ABC&quot;</code></li>
</ul>
<h2 id="Committing"><a href="#Committing" class="headerlink" title="Committing"></a>Committing</h2><ul>
<li>Add specific lines of a file to the commit interactively. <code>git add -p &lt;filenames&gt;</code></li>
<li>Commit the staged changes. <code>git commit -m &quot;your commit message&quot;</code></li>
</ul>
<h2 id="Bisect"><a href="#Bisect" class="headerlink" title="Bisect"></a>Bisect</h2><ul>
<li><p>Trace buggy commit with git bisect<br><strong>Manual</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git bisect reset <span class="comment"># only needed after a bisect</span></span><br><span class="line">git bisect start</span><br><span class="line">git bisect good &lt;revision&gt;</span><br><span class="line">git bisect bad &lt;revision&gt; <span class="comment"># git will checkout the next revision to check</span></span><br><span class="line">git bisect (good | bad)`</span><br></pre></td></tr></table></figure>
</li>
<li><p>Automated</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git bisect start</span><br><span class="line">git bisect good &lt;revision&gt;</span><br><span class="line">git bisect bad &lt;revision&gt;</span><br><span class="line">git bisect &lt;run/path/to/decision/script args &gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Filter-Branch"><a href="#Filter-Branch" class="headerlink" title="Filter Branch"></a>Filter Branch</h2><ul>
<li>Fix committer&#x2F;author<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">git filter-branch -f --env-filter <span class="string">&#x27;</span></span><br><span class="line"><span class="string">n=$GIT_AUTHOR_NAME</span></span><br><span class="line"><span class="string">m=$GIT_AUTHOR_EMAIL</span></span><br><span class="line"><span class="string">export GIT_AUTHOR_NAME=&quot;$n&quot;</span></span><br><span class="line"><span class="string">export GIT_AUTHOR_EMAIL=&quot;$m&quot;</span></span><br><span class="line"><span class="string">export GIT_COMMITTER_NAME=&quot;$n&quot;</span></span><br><span class="line"><span class="string">export GIT_COMMITTER_EMAIL=&quot;$m&quot;</span></span><br><span class="line"><span class="string">&#x27;</span> HEAD</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>Remove filter-branch backup</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git update-ref -d refs/original/refs/heads/master</span><br></pre></td></tr></table></figure>

<p><strong>Move commits to new Repository</strong></p>
<p>These examples assume you are already on the branch you want to cherry-pick these commits into.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote add oldrepo https://github.com/path/to/oldrepo</span><br><span class="line">git fetch oldrepo</span><br></pre></td></tr></table></figure>

<p><strong>Take a specific subset of commits</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git cherry-pick --strategy recursive --strategy-option theirs «oldestCommitHash»^..«latestCommitHash»</span><br></pre></td></tr></table></figure>

<p><strong>Take all commits involved in a specific merge commit</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git cherry-pick --strategy recursive --strategy-option theirs «mergeCommitHash»^..«mergeCommitHash»</span><br></pre></td></tr></table></figure>

<p><strong>Handle deleted files and conflicts</strong></p>
<p>As you are cherry-picking your target branch might not have all files. You might end up in some conflicts that you will have to handle.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git mergetool</span><br><span class="line"><span class="comment"># either c/m or d based on if you want to keep or delete the files</span></span><br><span class="line">git cherry-pick --<span class="built_in">continue</span></span><br><span class="line">Git config</span><br></pre></td></tr></table></figure>

<p><strong>Git config</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">[<span class="built_in">alias</span>]</span><br><span class="line">  bw = blame -w -M</span><br><span class="line">  c = commit</span><br><span class="line">  commend = commit --amend --no-edit</span><br><span class="line">  cc = commit --all --amend --no-edit</span><br><span class="line">  ca = commit --all</span><br><span class="line">  co = checkout</span><br><span class="line">  cb = <span class="string">&quot;!f() &#123; git co `git log --until=\&quot;$*\&quot; -1 --format=%h`; &#125; ; f&quot;</span></span><br><span class="line">  s = status --short</span><br><span class="line">  d = diff</span><br><span class="line">  dc = diff --cached --word-diff=color</span><br><span class="line">  dw = diff --word-diff=color</span><br><span class="line">  l = <span class="built_in">log</span></span><br><span class="line">  a = add</span><br><span class="line">  addnw = !sh -c <span class="string">&#x27;git diff -U0 -w --no-color --ignore-blank-lines &quot;$@&quot; | git apply --cached --ignore-whitespace --unidiff-zero -&#x27;</span></span><br><span class="line">  af = add -f</span><br><span class="line">  p = push</span><br><span class="line">  dt = difftool</span><br><span class="line">  mt = mergetool</span><br><span class="line">  ss = show -1 --format=%B--<span class="built_in">stat</span></span><br><span class="line">  sw = show -1 --format=%B--<span class="built_in">stat</span> --word-diff=color</span><br><span class="line">  whatis = show -s --pretty=<span class="string">&#x27;tformat:%h (%s, %ad)&#x27;</span> --<span class="built_in">date</span>=short</span><br><span class="line">  whatadded = <span class="built_in">log</span> --diff-filter=A</span><br><span class="line">  deleted = <span class="built_in">log</span> --diff-filter=D --summary</span><br><span class="line">  lg = <span class="built_in">log</span> --graph --pretty=format:<span class="string">&#x27;%Cred%h%Creset %C(yellow)%an%d%Creset %s [%N] %Cgreen(%ar)%Creset&#x27;</span> --<span class="built_in">date</span>=relative</span><br><span class="line">  lgd = <span class="built_in">log</span> --graph --pretty=format:<span class="string">&#x27;%Cred%h%Creset %C(yellow)%an%d%Creset %s [%N] %Cgreen(%ar)%Creset&#x27;</span> --<span class="built_in">date</span>=default</span><br><span class="line">  lgm = <span class="built_in">log</span> --graph --pretty=format:<span class="string">&#x27;%Cred%h%Creset %C(yellow)%an%d%Creset %s [%N] %Cgreen(%ar)%Creset&#x27;</span> --<span class="built_in">date</span>=relative --author=AUTHOR_EMAIL</span><br><span class="line">  abbr = <span class="string">&quot;!sh -c &#x27;git rev-list --all | grep ^<span class="variable">$1</span> | while read commit; do git --no-pager log -n1 --pretty=format:\&quot;%H %ci %an %s%n\&quot; <span class="variable">$commit</span>; done&#x27; -&quot;</span></span><br><span class="line">  refeature = <span class="string">&quot;!f() &#123; git co develop &amp;&amp; git pull &amp;&amp; git co <span class="variable">$1</span> &amp;&amp; git pull &amp;&amp; git rebase develop; &#125; ; f&quot;</span></span><br><span class="line">  ffmerge = <span class="string">&quot;!f() &#123; git refeature <span class="variable">$1</span> &amp;&amp; git co develop &amp;&amp; git merge <span class="variable">$1</span>; &#125; ; f&quot;</span></span><br><span class="line">  clearbranch = <span class="string">&quot;!f() &#123; git branch -d <span class="variable">$1</span> &amp;&amp; git push origin :<span class="variable">$1</span>; &#125; ; f&quot;</span></span><br><span class="line">  please = push --force-with-lease</span><br><span class="line">  undo = restore</span><br><span class="line">  unstage = restore --staged</span><br><span class="line">  wip = for-each-ref --<span class="built_in">sort</span>=<span class="string">&#x27;authordate:iso8601&#x27;</span> --format=<span class="string">&#x27;%(color:green)%(authordate:relative)%09%(color:reset)%(refname:short)&#x27;</span> refs/heads</span><br><span class="line">[color]</span><br><span class="line">  ui = always</span><br><span class="line">[core]</span><br><span class="line">  pager = less -x1,5</span><br><span class="line">  fileMode = <span class="literal">true</span></span><br><span class="line">  editor = vim</span><br><span class="line">  autocrlf = <span class="literal">false</span></span><br><span class="line">[push]</span><br><span class="line">  default = current</span><br><span class="line">[branch]</span><br><span class="line">  autosetuprebase = remote</span><br><span class="line">[merge]</span><br><span class="line">  tool = vimdiff</span><br><span class="line">  guitool = gvimdiff</span><br><span class="line">  conflictstyle = diff3</span><br><span class="line">[mergetool]</span><br><span class="line">  prompt = <span class="literal">false</span></span><br><span class="line">[diff]</span><br><span class="line">  tool = vimdiff</span><br><span class="line">  guitool = gvimdiff</span><br><span class="line">[difftool]</span><br><span class="line">  prompt = <span class="literal">false</span></span><br><span class="line">[commit]</span><br><span class="line">	gpgSign = <span class="literal">true</span></span><br><span class="line">[tag]</span><br><span class="line">	forceSignAnnotated = <span class="literal">true</span></span><br><span class="line">[includeIf <span class="string">&quot;gitdir:~/code/priv/**/*&quot;</span>]</span><br><span class="line">    path = <span class="string">&quot;~/.gitconfig-private&quot;</span></span><br><span class="line">[init]</span><br><span class="line">	defaultBranch = main</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://billyangbc.github.io/2024/11/04/hexo/how-to-setup-photo-displaying-in-hexo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Pratical Tech Blogger">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Practical Tech">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Practical Tech">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/11/04/hexo/how-to-setup-photo-displaying-in-hexo/" class="post-title-link" itemprop="url">How to setup photo displaying in Hexo blog</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-11-04 00:00:00" itemprop="dateCreated datePublished" datetime="2024-11-04T00:00:00-08:00">2024-11-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-11-21 09:34:42" itemprop="dateModified" datetime="2024-11-21T09:34:42-08:00">2024-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/hexo/" itemprop="url" rel="index"><span itemprop="name">hexo</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Hexo provides many ways to insert pictures in blog, which can be divided into 2 categories by syntax:</p>
<ul>
<li>syntax natively supported by Markdown<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![image description](image path)</span><br></pre></td></tr></table></figure>
Where, the image path cannot use an absolute path in the local system, for example:<code>assets/a.jpg</code>. This is because Hexo cannot parse images correctly when generating static web pages, resulting in images not being displayed properly on the web page.<br>The correct image path has the following options:<ol>
<li><p>Relative to the blog’s root directory: &#x2F;imgs&#x2F;a.jpg . To use this method, you need to create a new imgs folder under the source directory of the blog, and store the images used in the article in the imgs folder.<br>  For example, using the syntax of <code>/imgs/0_0.jpg</code>, the image can be displayed.</p>
</li>
<li><p>Relative path relative to a blog post: <code>./article_1/a.jpg</code>. To use this method, you need to set the <code>post_asset_folder</code> option to <code>true</code> in the Hexo configuration file <code>_config.yaml</code>.<br>  Then use <code>hexo new xxx</code> to create a new article, Hexo will create a folder with the same name as the article under the <code>source/_posts</code> directory, and then put the pictures that the article needs in this folder, and use the relative path to reference.</p>
</li>
<li><p>Use <code>hexo-image-link</code> package<br>First, set the <code>post_asset_folder</code> option to <code>true</code> in <code>_config.yaml</code> according to the official Hexo documentation. Then, install the plugin <code>hexo-image-link</code>:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-image-link --save</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://billyangbc.github.io/2024/11/04/home-lab/home-lab/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Pratical Tech Blogger">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Practical Tech">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Practical Tech">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/11/04/home-lab/home-lab/" class="post-title-link" itemprop="url">Home lab setup</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-11-04 00:00:00" itemprop="dateCreated datePublished" datetime="2024-11-04T00:00:00-08:00">2024-11-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-11-21 09:34:42" itemprop="dateModified" datetime="2024-11-21T09:34:42-08:00">2024-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Hardware"><a href="#Hardware" class="headerlink" title="Hardware"></a>Hardware</h2><ol>
<li>2TB hard disk</li>
<li>raspberry pi 2 (4GB)</li>
<li>SSD</li>
<li>raspbery pi 5 (8GB))</li>
</ol>
<h2 id="Software"><a href="#Software" class="headerlink" title="Software"></a>Software</h2><ol>
<li>docker &#x2F; docker-compose</li>
<li>kubernetes (k3d)</li>
<li>minio</li>
<li>NFS</li>
<li>Samba</li>
<li>Nextcloud</li>
<li>Postgresql</li>
<li>MongoDB</li>
<li>Mongo Express</li>
<li>MariaDB</li>
<li>Redis</li>
<li>Prometheus</li>
<li>Grafana</li>
</ol>
<h2 id="System-structure"><a href="#System-structure" class="headerlink" title="System structure"></a>System structure</h2><ol>
<li>Attach the hard disk (2TB) to raspberry pi 2, and install<br>minio<br>NFS<br>Samba</li>
<li>Attach the SSD to raspberry pi 5 (8GB), and install<br>Nextcloud<br>Postgresql<br>MongoDB&#x2F;MongoExpress<br>MariaDB<br>Redis<br>Prometheus<br>Grafana</li>
</ol>
<p><img src="/assets/home-lab-pis.png" alt="Architecture"></p>
<h2 id="Basic-Usage"><a href="#Basic-Usage" class="headerlink" title="Basic Usage"></a>Basic Usage</h2><h3 id="0-prerequisites"><a href="#0-prerequisites" class="headerlink" title="0. prerequisites"></a>0. prerequisites</h3><p>Update <code>/etc/hosts</code> to include following hosts:</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">## k8s hosts</span></span><br><span class="line"><span class="comment"># infra</span></span><br><span class="line">192.168.100.205 nextcloud.local</span><br><span class="line">192.168.100.205 postgresql.local postgresql.dev.local</span><br><span class="line">192.168.100.205 pgadmin.local</span><br><span class="line"><span class="comment"># db</span></span><br><span class="line">192.168.100.205 mariadb.local</span><br><span class="line">192.168.100.205 redis.local</span><br><span class="line">192.168.100.205 mongo.local</span><br><span class="line">192.168.100.205 mongo-express.local</span><br><span class="line"><span class="comment"># monitor </span></span><br><span class="line">192.168.100.205 prometheus.local</span><br><span class="line">192.168.100.205 grafana.local</span><br><span class="line"><span class="comment"># longhorn</span></span><br><span class="line">192.168.100.205 longhorn.local</span><br><span class="line"><span class="comment"># dashboard</span></span><br><span class="line">192.168.100.205 dashboard.local</span><br><span class="line"><span class="comment"># storage</span></span><br><span class="line">192.168.100.205 minio.local</span><br><span class="line">192.168.100.205 nfs.local</span><br><span class="line"><span class="comment"># myapp</span></span><br><span class="line">192.168.100.205 myapp.local</span><br></pre></td></tr></table></figure>

<h3 id="1-Setup-inventory-file"><a href="#1-Setup-inventory-file" class="headerlink" title="1. Setup inventory file"></a>1. Setup inventory file</h3><p>Create an inventory file under base folder. Or copy inventory-sample.yml to inventory and update it.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">k3s_cluster:</span></span><br><span class="line">  <span class="attr">children:</span></span><br><span class="line">    <span class="attr">server:</span></span><br><span class="line">      <span class="attr">hosts:</span></span><br><span class="line">        <span class="attr">192.168.100.205:</span></span><br><span class="line">        <span class="attr">192.168.100.207:</span></span><br><span class="line">    <span class="attr">agent:</span></span><br><span class="line">      <span class="attr">hosts:</span></span><br><span class="line">        <span class="attr">192.168.100.201:</span></span><br><span class="line">        <span class="attr">192.168.100.203:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Required Vars</span></span><br><span class="line">  <span class="attr">vars:</span></span><br><span class="line">    <span class="attr">ansible_port:</span> <span class="number">22</span></span><br><span class="line">    <span class="attr">ansible_user:</span> <span class="string">bill</span></span><br><span class="line">    <span class="attr">k3s_version:</span> <span class="string">v1.31.1+k3s1</span></span><br><span class="line"><span class="comment"># ...</span></span><br></pre></td></tr></table></figure>

<h3 id="2-Run-ansible-playbook"><a href="#2-Run-ansible-playbook" class="headerlink" title="2. Run ansible playbook"></a>2. Run ansible playbook</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ansible-playbook -i inventory.yml playbooks/site.yml</span><br></pre></td></tr></table></figure>

<h3 id="3-Check-created-k8s-resources"><a href="#3-Check-created-k8s-resources" class="headerlink" title="3. Check created k8s resources"></a>3. Check created k8s resources</h3><p>Once the ansible book execution is done, there should be a kubernetes config file for new created cluster under folder <code>~/.kube/</code>,<br>e.g. <code>config.k3s</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> KUBECONFIG=~/.kube/config.k3s</span><br><span class="line">kebuctl get nodes -o wide</span><br></pre></td></tr></table></figure>

<h3 id="4-Optional-Merge-kube-config-into-local-kube-config-file"><a href="#4-Optional-Merge-kube-config-into-local-kube-config-file" class="headerlink" title="4. Optional:Merge kube config into local kube config file"></a>4. Optional:Merge kube config into local kube config file</h3><p>Merge the content of new kube config into local kube config (~&#x2F;.kube&#x2F;config),then use command to check:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get nodes -o wide</span><br></pre></td></tr></table></figure>

<h3 id="5-Deploy-to-a-Kubernetes-cluster"><a href="#5-Deploy-to-a-Kubernetes-cluster" class="headerlink" title="5. Deploy to a Kubernetes cluster"></a>5. Deploy to a Kubernetes cluster</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">./deploy/nodes-setup.sh</span><br><span class="line">./deploy/infra/deploy.sh</span><br><span class="line">./deploy/storage/deploy.sh</span><br><span class="line">./deploy/monitor/deploy.sh</span><br><span class="line">./deploy/myapp/deploy.sh</span><br></pre></td></tr></table></figure>

<h3 id="6-Import-Dashboard-to-Grafana"><a href="#6-Import-Dashboard-to-Grafana" class="headerlink" title="6. Import Dashboard to Grafana"></a>6. Import Dashboard to Grafana</h3><p>Open <code>http://grafana.local</code>:</p>
<ol>
<li>add <code>prometheus</code> as data resource</li>
<li>import dashboard files under <code>deploy/monitor/dashboards</code></li>
</ol>
<h2 id="Screenshot"><a href="#Screenshot" class="headerlink" title="Screenshot"></a>Screenshot</h2><p><img src="/assets/home-lab-dashboard-1.png" alt="Dashboard 1"></p>
<p><img src="/assets/home-lab-dashboard-2.png" alt="Dashboard 2"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://billyangbc.github.io/2024/11/04/k3s/install-loki-promtail-with-grafana/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Pratical Tech Blogger">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Practical Tech">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Practical Tech">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/11/04/k3s/install-loki-promtail-with-grafana/" class="post-title-link" itemprop="url">Install Loki and Promtail with grafana</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-11-04 00:00:00" itemprop="dateCreated datePublished" datetime="2024-11-04T00:00:00-08:00">2024-11-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-11-21 09:34:42" itemprop="dateModified" datetime="2024-11-21T09:34:42-08:00">2024-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Add-grafana-helm-chart"><a href="#Add-grafana-helm-chart" class="headerlink" title="Add grafana helm chart"></a>Add grafana helm chart</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">helm repo add grafana https://grafana.github.io/helm-charts</span><br><span class="line">helm repo update</span><br></pre></td></tr></table></figure>

<h2 id="Install-grafana"><a href="#Install-grafana" class="headerlink" title="Install grafana"></a>Install grafana</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">helm install grafana grafana/grafana --namespace grafana --create-namespace</span><br></pre></td></tr></table></figure>

<h2 id="Get-Loki-config-values-file"><a href="#Get-Loki-config-values-file" class="headerlink" title="Get Loki config values file"></a>Get Loki config values file</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">helm show values grafana/loki-distributed &gt; loki-distributed-overrides.yaml</span><br></pre></td></tr></table></figure>

<h2 id="Install-Loki"><a href="#Install-Loki" class="headerlink" title="Install Loki"></a>Install Loki</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">helm upgrade --install --values loki-distributed-overrides.yaml loki grafana/loki-distributed -n grafana-loki --create-namespace</span><br></pre></td></tr></table></figure>

<h2 id="Get-Promtail-config-values-file"><a href="#Get-Promtail-config-values-file" class="headerlink" title="Get Promtail config values file"></a>Get Promtail config values file</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">helm show values grafana/promtail &gt; promtail-overrides.yaml</span><br></pre></td></tr></table></figure>

<h2 id="ADd-Loki’s-gateway"><a href="#ADd-Loki’s-gateway" class="headerlink" title="ADd Loki’s gateway"></a>ADd Loki’s gateway</h2><p>In promtail-overrides.yaml, add the enpoint of Loki’s gateway as designated endpoint that Promtail will use in order to push logs to loki.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">clients:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">url:</span> <span class="string">loki-loki-distributed-gateway.grafana-loki.svc.cluster.local</span></span><br></pre></td></tr></table></figure>

<h2 id="Install-promtail-with-values"><a href="#Install-promtail-with-values" class="headerlink" title="Install promtail with values"></a>Install promtail with values</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">helm upgrade --install --values promtail-overrides.yaml promtail grafana/promtail -n grafana-loki</span><br></pre></td></tr></table></figure>

<h2 id="Add-loki-datasource-in-Grafana"><a href="#Add-loki-datasource-in-Grafana" class="headerlink" title="Add loki datasource in Grafana"></a>Add loki datasource in Grafana</h2><p>Open Grafana, go to <code>home</code> &gt; <code>Connection</code> &gt; <code>Data sources</code> , select <code>Loki</code>.<br>In <code>Connection</code> section URL input: <code>http://loki-loki-distributed-gateway.grafana-loki.svc.cluster.local</code>, then save and test.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference:"></a>Reference:</h2><p><a target="_blank" rel="noopener" href="https://akyriako.medium.com/kubernetes-logging-with-grafana-loki-promtail-in-under-10-minutes-d2847d526f9e">K8s Logging with Grafana Loki and Promtai</a></p>
<p><a target="_blank" rel="noopener" href="https://medium.com/@muppedaanvesh/a-hands-on-guide-to-kubernetes-logging-using-grafana-loki-%EF%B8%8F-b8d37ea4de13">Loki Stack</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://billyangbc.github.io/2024/11/04/k3s/setup-k8s-dashboard/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Pratical Tech Blogger">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Practical Tech">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Practical Tech">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/11/04/k3s/setup-k8s-dashboard/" class="post-title-link" itemprop="url">Set up Kubernetes dashboard</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-11-04 00:00:00" itemprop="dateCreated datePublished" datetime="2024-11-04T00:00:00-08:00">2024-11-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-11-21 09:34:42" itemprop="dateModified" datetime="2024-11-21T09:34:42-08:00">2024-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Step-1-Install-Kubernetes-Dashboard"><a href="#Step-1-Install-Kubernetes-Dashboard" class="headerlink" title="Step 1: Install Kubernetes Dashboard"></a>Step 1: Install Kubernetes Dashboard</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.7.0/aio/deploy/recommended.yaml</span><br></pre></td></tr></table></figure>

<h2 id="Step-2-Create-Service-Account-Secret-and-User"><a href="#Step-2-Create-Service-Account-Secret-and-User" class="headerlink" title="Step 2: Create Service Account, Secret, and User"></a>Step 2: Create Service Account, Secret, and User</h2><p>Create auth.yaml file, with:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ServiceAccount</span></span><br><span class="line"><span class="attr">metadata:</span>  </span><br><span class="line">  <span class="attr">name:</span> <span class="string">admin-user</span>  </span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">kubernetes-dashboard</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ClusterRoleBinding</span></span><br><span class="line"><span class="attr">metadata:</span>  </span><br><span class="line">  <span class="attr">name:</span> <span class="string">admin-user</span></span><br><span class="line"><span class="attr">roleRef:</span>  </span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span>  </span><br><span class="line">  <span class="attr">kind:</span> <span class="string">ClusterRole</span>  </span><br><span class="line">  <span class="attr">name:</span> <span class="string">cluster-admin</span></span><br><span class="line"><span class="attr">subjects:</span>  </span><br><span class="line"><span class="bullet">-</span> <span class="attr">kind:</span> <span class="string">ServiceAccount</span> </span><br><span class="line">  <span class="attr">name:</span> <span class="string">admin-user</span>  </span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">kubernetes-dashboard</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Secret</span></span><br><span class="line"><span class="attr">metadata:</span>  </span><br><span class="line">  <span class="attr">name:</span> <span class="string">admin-user</span>  </span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">kubernetes-dashboard</span>  </span><br><span class="line">  <span class="attr">annotations:</span>  </span><br><span class="line">    <span class="attr">kubernetes.io/service-account.name:</span> <span class="string">&quot;admin-user&quot;</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">kubernetes.io/service-account-token</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="comment"># kubectl apply -f dashboard-admin.yaml</span></span><br><span class="line"><span class="comment"># to get login token:</span></span><br><span class="line"><span class="comment"># kubectl get secret admin-user -n kubernetes-dashboard -o jsonpath=&#123;&quot;.data.token&quot;&#125; | base64 -d</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># OR:</span></span><br><span class="line"><span class="comment"># kubectl -n kubernetes-dashboard create token admin-user</span></span><br></pre></td></tr></table></figure>

<p>Apply the auth.yaml to kubernetes:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f auth.yaml</span><br></pre></td></tr></table></figure>

<h2 id="Step-3-Proxy-the-service"><a href="#Step-3-Proxy-the-service" class="headerlink" title="Step 3: Proxy the service"></a>Step 3: Proxy the service</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl proxy</span><br></pre></td></tr></table></figure>

<h2 id="Step-4-Open-the-Dashboard-at-‘http-localhost-8001-api-v1-namespaces-kubernetes-dashboard-services-https-kubernetes-dashboard-proxy-‘"><a href="#Step-4-Open-the-Dashboard-at-‘http-localhost-8001-api-v1-namespaces-kubernetes-dashboard-services-https-kubernetes-dashboard-proxy-‘" class="headerlink" title="Step 4: Open the Dashboard at ‘http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/‘"></a>Step 4: Open the Dashboard at ‘<a target="_blank" rel="noopener" href="http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/">http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/</a>‘</h2><h2 id="Step-5-To-get-login-toeken"><a href="#Step-5-To-get-login-toeken" class="headerlink" title="Step 5: To get login toeken"></a>Step 5: To get login toeken</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get secret admin-user -n kubernetes-dashboard -o jsonpath=&#123;<span class="string">&quot;.data.token&quot;</span>&#125; | <span class="built_in">base64</span> -d</span><br></pre></td></tr></table></figure>

<p>OR</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl -n kubernetes-dashboard create token admin-user</span><br></pre></td></tr></table></figure>

<p>Reference:</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://github.com/kubernetes/dashboard/blob/v2.7.0/docs/user/installation.md">https://github.com/kubernetes/dashboard/blob/v2.7.0/docs/user/installation.md</a></li>
<li><a target="_blank" rel="noopener" href="https://www.kerno.io/learn/kubernetes-dashboard-deploy-visualize-cluster">https://www.kerno.io/learn/kubernetes-dashboard-deploy-visualize-cluster</a></li>
<li><a target="_blank" rel="noopener" href="https://kb.leaseweb.com/kb/getting-started-with-kubernetes/kubernetes-getting-started-with-kubernetes-getting-started-how-to-set-up-kubernetes-dashboard/">https://kb.leaseweb.com/kb/getting-started-with-kubernetes/kubernetes-getting-started-with-kubernetes-getting-started-how-to-set-up-kubernetes-dashboard/</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/@howdyservices9/setting-up-kubernetes-dashboard-a-step-by-step-guide-9c479a487001">https://medium.com/@howdyservices9/setting-up-kubernetes-dashboard-a-step-by-step-guide-9c479a487001</a></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://billyangbc.github.io/2024/11/04/k3s/install-longhorn-on-k3s/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Pratical Tech Blogger">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Practical Tech">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Practical Tech">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/11/04/k3s/install-longhorn-on-k3s/" class="post-title-link" itemprop="url">Install Longhorn on K3s (ARM)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-11-04 00:00:00" itemprop="dateCreated datePublished" datetime="2024-11-04T00:00:00-08:00">2024-11-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-11-21 09:34:42" itemprop="dateModified" datetime="2024-11-21T09:34:42-08:00">2024-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Longhorn-Installation"><a href="#Longhorn-Installation" class="headerlink" title="Longhorn Installation"></a>Longhorn Installation</h2><ol>
<li>Installing open-iscsi</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># please check the latest release of the longhorn here https://github.com/longhorn/longhorn and update the version accordingly. Current version is v1.7.1</span></span><br><span class="line">kubectl apply -f https://raw.githubusercontent.com/longhorn/longhorn/v1.7.1/deploy/prerequisite/longhorn-iscsi-installation.yaml</span><br></pre></td></tr></table></figure>

<p>Uninstall it</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl delete -f https://raw.githubusercontent.com/longhorn/longhorn/v1.7.1/deploy/prerequisite/longhorn-iscsi-installation.yaml</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>Installing NFSv4 client</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># please check the latest release of the longhorn here https://github.com/longhorn/longhorn and update the version accordingly. Current version is v1.7.1</span></span><br><span class="line">kubectl apply -f https://raw.githubusercontent.com/longhorn/longhorn/v1.7.1/deploy/prerequisite/longhorn-nfs-installation.yaml</span><br></pre></td></tr></table></figure>

<p>Uninstall it</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl delete -f https://raw.githubusercontent.com/longhorn/longhorn/v1.7.1/deploy/prerequisite/longhorn-nfs-installation.yaml</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Installing Longhorn</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. added longhorn chart</span></span><br><span class="line">helm repo add longhorn https://charts.longhorn.io</span><br><span class="line">helm repo update</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. Installing</span></span><br><span class="line">helm install longhorn longhorn/longhorn -f value.yaml --namespace longhorn-system --create-namespace</span><br></pre></td></tr></table></figure>

<p>Alternatively, you can install Longhorn with yaml:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f https://raw.githubusercontent.com/longhorn/longhorn/v1.7.1/deploy/longhorn.yaml</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>Setup Longhorn backup to S3 (minio)<br>Refer to <a target="_blank" rel="noopener" href="https://oopflow.medium.com/how-to-backup-longhorn-to-minio-s3-9c8c126ae92e">How to backup Longhorn to Minio S3</a></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f secret.yaml</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>Uninstall Longhorn</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Update `deleting-confirmation-flag` to allows uninstall longhorn</span></span><br><span class="line">kubectl -n longhorn-system patch -p <span class="string">&#x27;&#123;&quot;value&quot;: &quot;true&quot;&#125;&#x27;</span> --<span class="built_in">type</span>=merge lhs deleting-confirmation-flag</span><br><span class="line"><span class="comment"># Uninstall longhorn</span></span><br><span class="line">helm uninstall longhorn -n longhorn-system</span><br><span class="line"><span class="comment"># Delete namespace</span></span><br><span class="line">kubectl delete namespace longhorn-system</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>Apply patch on longhorn<br>The longhorn does not support armhf, it only support x86_64 and arm64 platform. For this reason, we need to apply patch on longhorn.<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">kubectl -n longhorn-system get deploy</span><br><span class="line">kubectl -n longhorn-system patch deploy/csi-snapshotter --patch-file ./patch-deployment-csi.yaml --<span class="built_in">type</span> merge</span><br><span class="line">kubectl -n longhorn-system patch deploy/csi-resizer --patch-file ./patch-deployment-csi.yaml --<span class="built_in">type</span> merge</span><br><span class="line">kubectl -n longhorn-system patch deploy/csi-provisioner --patch-file ./patch-deployment-csi.yaml --<span class="built_in">type</span> merge</span><br><span class="line">kubectl -n longhorn-system patch deploy/csi-attacher --patch-file ./patch-deployment-csi.yaml --<span class="built_in">type</span> merge</span><br></pre></td></tr></table></figure>
Apply patch on daemonset as well</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kubectl -n longhorn-system get daemonset</span><br><span class="line">kubectl -n longhorn-system patch daemonset/engine-image-ei-51cc7b9c --patch-file ./patch-daemonset.yaml --<span class="built_in">type</span> merge</span><br><span class="line">kubectl -n longhorn-system patch daemonset/longhorn-csi-plugin --patch-file ./patch-daemonset.yaml --<span class="built_in">type</span> merge</span><br></pre></td></tr></table></figure>

<h2 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h2><ol>
<li>when install preresquisite on armhf, it will show error:<br><code>Failed to fetch http://raspbian.freemirror.org/raspbian/pool/main/o/open-iscsi/open-iscsi_2.1.8-1_armhf.deb  File has unexpected size (1150 != 265900). Mirror sync in progress? [IP: 199.59.243.227 80]</code></li>
</ol>
<p><a target="_blank" rel="noopener" href="https://forums.raspberrypi.com/viewtopic.php?f=66&t=276340">Issue with apt, mirror Solution</a></p>
<p>ASIDE: until this is fixed properly, a short-term workaround is to change &#x2F;etc&#x2F;apt&#x2F;sources.list from:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deb http://raspbian.raspberrypi.org/raspbian/ buster main contrib non-free rpi</span><br></pre></td></tr></table></figure>

<p>to:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirror.us.leaseweb.net/raspbian/raspbian buster main contrib non-free</span><br><span class="line">rpi</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a target="_blank" rel="noopener" href="https://medium.com/@abdelrhmanahmed131/longhorn-distributed-block-storage-for-k8s-2ea11df400d1">Longhorn — Distributed Block Storage for K8s</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://billyangbc.github.io/2024/11/03/hexo/How-to-add-categories-and-tags-in-hexo-with-next-theme/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Pratical Tech Blogger">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Practical Tech">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Practical Tech">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/11/03/hexo/How-to-add-categories-and-tags-in-hexo-with-next-theme/" class="post-title-link" itemprop="url">How to add categories and tags in hexo with next theme</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-11-03 00:00:00" itemprop="dateCreated datePublished" datetime="2024-11-03T00:00:00-07:00">2024-11-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-11-21 09:34:42" itemprop="dateModified" datetime="2024-11-21T09:34:42-08:00">2024-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/hexo/" itemprop="url" rel="index"><span itemprop="name">hexo</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Hexo Next theme comes with several default menus, such as about, categories, tags, etc., which are commented out by default. Uncomment the menus you need and then generate the corresponding page.</p>
<p>Open the ~&#x2F;_config.next.yml file, find the menu settings, and uncomment the required menu items.</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || fa fa-home</span><br><span class="line">  about: /about/ || fa fa-user</span><br><span class="line">  tags: /tags/ || fa fa-tags</span><br><span class="line">  categories: /categories/ || fa fa-th</span><br><span class="line">  #archives: /archives/ || fa fa-archive</span><br><span class="line">  #schedule: /schedule/ || fa fa-calendar</span><br><span class="line">  #sitemap: /sitemap.xml || fa fa-sitemap</span><br><span class="line">  #commonweal: /404/ || fa fa-heartbeat</span><br></pre></td></tr></table></figure>

<p>After regenerating and deploying, you can see the newly added menu items, but clicking on them will result in the following errors:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Cannot GET /about/</span><br><span class="line">Cannot GET /tags/</span><br><span class="line">Cannot GET /categories/</span><br></pre></td></tr></table></figure>

<p>This is because you need to run the following commands to create the corresponding pages:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo new page <span class="string">&quot;about&quot;</span></span><br><span class="line">hexo new page <span class="string">&quot;tags&quot;</span></span><br><span class="line">hexo new page <span class="string">&quot;categories&quot;</span></span><br></pre></td></tr></table></figure>

<p>After creating the pages, folders named about, tags, and categories will be created under the source directory, and an <code>index.md</code> file will be created in each folder representing the about, tags, and categories pages. You can customize the content of these three pages by editing these Markdown files.</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">title: about</span><br><span class="line">date: 2024-11-03</span><br><span class="line">type: &quot;about&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">title: about</span><br><span class="line">date: 2024-11-03</span><br><span class="line">type: &quot;categories&quot;</span><br></pre></td></tr></table></figure>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">title: about</span><br><span class="line">date: 2024-11-03</span><br><span class="line">type: &quot;tags&quot;</span><br></pre></td></tr></table></figure>

<p>In the header of a new blog post, directly enter the category and tags of the post. There can only be one category, but there can be multiple tags. Multiple tags cannot be on the same line. Pay attention to the following format.</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">title: Hello World</span><br><span class="line">date: 2019/3/26 hh:mm:ss # time</span><br><span class="line">categories:</span><br><span class="line"><span class="bullet">    -</span> category<span class="emphasis">_name  # only one</span></span><br><span class="line"><span class="emphasis">tags: # tags</span></span><br><span class="line"><span class="emphasis">    - PS3  # multiple</span></span><br><span class="line"><span class="emphasis">    - Games  # multiple</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://billyangbc.github.io/2024/11/03/tech/install-k3d-on-raspberry-pi-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Pratical Tech Blogger">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Practical Tech">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Practical Tech">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/11/03/tech/install-k3d-on-raspberry-pi-5/" class="post-title-link" itemprop="url">Install k3d on raspberry pi 5 (arm64)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-11-03 00:00:00" itemprop="dateCreated datePublished" datetime="2024-11-03T00:00:00-07:00">2024-11-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-11-21 09:34:42" itemprop="dateModified" datetime="2024-11-21T09:34:42-08:00">2024-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>This document will guide to install a multiple nodes cluster on raspberry pi 5.</p>
<h2 id="Install-docker"><a href="#Install-docker" class="headerlink" title="Install docker"></a>Install docker</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update &amp;&amp; <span class="built_in">sudo</span> apt install docker.io docker-compose</span><br><span class="line"><span class="built_in">sudo</span> usermod -aG docker <span class="variable">$USER</span></span><br><span class="line">docker --version</span><br><span class="line">docker-compose --version</span><br><span class="line">docker ps --all</span><br><span class="line"><span class="built_in">sudo</span> apt update &amp;&amp; <span class="built_in">sudo</span> apt dist-upgrade</span><br></pre></td></tr></table></figure>

<h2 id="Enable-cgroup-memory"><a href="#Enable-cgroup-memory" class="headerlink" title="Enable cgroup memory"></a>Enable cgroup memory</h2><p>You enable it by simply appending <code>cgroup_memory=1 cgroup_enable=memory</code> to <code>/boot/firmware/cmdline.txt</code>.</p>
<h2 id="Install-kubectl"><a href="#Install-kubectl" class="headerlink" title="Install kubectl"></a>Install kubectl</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -LO <span class="string">&quot;https://dl.k8s.io/release/<span class="subst">$(curl -L -s https://dl.k8s.io/release/stable.txt)</span>/bin/linux/arm64/kubectl&quot;</span></span><br><span class="line"><span class="built_in">sudo</span> install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl</span><br><span class="line">kubectl version --client</span><br></pre></td></tr></table></figure>

<h2 id="Install-k3d"><a href="#Install-k3d" class="headerlink" title="Install k3d"></a>Install k3d</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -s https://raw.githubusercontent.com/k3d-io/k3d/main/install.sh | bash</span><br></pre></td></tr></table></figure>

<h1 id="Enable-ssh-optional"><a href="#Enable-ssh-optional" class="headerlink" title="Enable ssh (optional)"></a>Enable ssh (optional)</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get update</span><br><span class="line"><span class="built_in">sudo</span> apt-get install openssh-server</span><br><span class="line"><span class="built_in">sudo</span> ufw allow 22</span><br></pre></td></tr></table></figure>

<h2 id="Check-k3d-by-creating-a-cluster"><a href="#Check-k3d-by-creating-a-cluster" class="headerlink" title="Check k3d by creating a cluster"></a>Check k3d by creating a cluster</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">k3d cluster create k3d-cluster \</span><br><span class="line">    --volume /media/bill/SSD-DATA/k3dvol-01:/ssd \</span><br><span class="line">    --servers 1 \</span><br><span class="line">    --agents 2 \</span><br><span class="line">    --<span class="built_in">disable</span>=traefik \</span><br><span class="line">    --tls-san=192.168.1.85</span><br></pre></td></tr></table></figure>

<h2 id="get-kubeconfig"><a href="#get-kubeconfig" class="headerlink" title="get kubeconfig"></a>get kubeconfig</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">k3d kubeconfig get --all &gt;&gt; k3d_cluster.kubeconfig</span><br></pre></td></tr></table></figure>

<h2 id="Merge-kube-config-into-local-kube-config-file"><a href="#Merge-kube-config-into-local-kube-config-file" class="headerlink" title="Merge kube config into local kube config file"></a>Merge kube config into local kube config file</h2><p>Once get the kubeconfig, merge the content into local kube config (~&#x2F;.kube&#x2F;config),then use command to check:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get nodes</span><br></pre></td></tr></table></figure>

<h2 id="Delete-k3d-cluster"><a href="#Delete-k3d-cluster" class="headerlink" title="Delete k3d cluster"></a>Delete k3d cluster</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">k3d cluster delete k3d-cluster</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://billyangbc.github.io/2024/11/03/tech/tips-docker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Pratical Tech Blogger">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Practical Tech">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Practical Tech">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/11/03/tech/tips-docker/" class="post-title-link" itemprop="url">Docker Tips</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-11-03 00:00:00" itemprop="dateCreated datePublished" datetime="2024-11-03T00:00:00-07:00">2024-11-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-11-21 09:34:42" itemprop="dateModified" datetime="2024-11-21T09:34:42-08:00">2024-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="1-Docker-Desktop-is-not-able-to-start-on-ubuntu-24-04"><a href="#1-Docker-Desktop-is-not-able-to-start-on-ubuntu-24-04" class="headerlink" title="1. Docker Desktop is not able to start on ubuntu 24.04"></a>1. Docker Desktop is not able to start on ubuntu 24.04</h2><p>When build docker for multiple architecture on ubuntu, <code>Docker Desktop</code> will be needed.<br>However, when upgrade to ubuntu 24.04, the <code>Docker Desktop</code> is not able to start.<br>Here is a workaround:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> sysctl -w kernel.apparmor_restrict_unprivileged_userns=0</span><br><span class="line">systemctl --user restart docker-desktop</span><br></pre></td></tr></table></figure>

<h2 id="2-Initialize-pass-issue-for-docker-login"><a href="#2-Initialize-pass-issue-for-docker-login" class="headerlink" title="2. Initialize pass issue for docker login"></a>2. Initialize pass issue for <code>docker login</code></h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pass remove -rf docker-credential-helpers</span><br><span class="line"><span class="comment">#OR    rm -rf ~/.password-store/docker-credential-helpers</span></span><br><span class="line">gpg --generate-key</span><br><span class="line">gpg --full-gen-key</span><br><span class="line">pass init &lt;generated gpg-id public key&gt;</span><br></pre></td></tr></table></figure>

<h2 id="3-Build-docker-image-for-multiple-platform-https-www-docker-com-blog-multi-arch-images"><a href="#3-Build-docker-image-for-multiple-platform-https-www-docker-com-blog-multi-arch-images" class="headerlink" title="3. Build docker image for multiple platform (https://www.docker.com/blog/multi-arch-images/)"></a>3. Build docker image for multiple platform (<a target="_blank" rel="noopener" href="https://www.docker.com/blog/multi-arch-images/">https://www.docker.com/blog/multi-arch-images/</a>)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker buildx build --platform linux/arm64 -t billyangbc/hellodocker:bookworm-arm64 -f Dockerfile . --no-cache</span><br><span class="line"><span class="comment">#push to docker.io:</span></span><br><span class="line">docker login</span><br><span class="line">docker build -t &lt;username&gt;/&lt;repo&gt;:&lt;tag&gt; .</span><br><span class="line">docker push &lt;username&gt;/&lt;repo&gt;:&lt;tag&gt;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://unpkg.com/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/@next-theme/pjax@0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  






  





</body>
</html>
